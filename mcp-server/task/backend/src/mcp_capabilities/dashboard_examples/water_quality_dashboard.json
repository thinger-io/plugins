{
  "product": "water_quality_sensors",
  "tab": 0,
  "widget": {
    "api": {},
    "layout": {
      "col": 0,
      "row": 0,
      "sizeX": 12,
      "sizeY": 12
    },
    "panel": {
      "color": "#006064",
      "currentColor": "#006064",
      "showFullscreen": true,
      "showOffline": {
        "type": "last_sample"
      },
      "subtitle": "pH, TDS, and Turbidity Monitoring",
      "title": "Water Quality Metrics",
      "updateTs": 1730000000000
    },
    "properties": {
      "options": "var options = {\n    series: series,\n    chart: {\n        background: '#006064',\n        toolbar: {\n            show: true,\n            tools: {\n                download: true,\n                selection: true,\n                zoom: true,\n                zoomin: true,\n                zoomout: true,\n                pan: true,\n                reset: true\n            },\n            autoSelected: 'zoom'\n        },\n        zoom: {\n            enabled: true,\n            type: 'x',\n            autoScaleYaxis: true\n        }\n    },\n    stroke: {\n        curve: 'smooth',\n        width: 2.5\n    },\n    grid: {\n        row: {\n            colors: ['#00838F', 'transparent'],\n            opacity: 0.3\n        }\n    },\n    xaxis: {\n        type: 'datetime',\n        labels: {\n            datetimeUTC: false,\n            style: { colors: '#FFFFFF' }\n        }\n    },\n    yaxis: [\n        {\n            seriesName: 'pH',\n            title: { text: 'pH Level', style: { color: '#00E676' } },\n            labels: {\n                formatter: function(val) { return val.toFixed(2); },\n                style: { colors: '#FFFFFF' }\n            },\n            min: 0,\n            max: 14\n        },\n        {\n            seriesName: 'TDS',\n            show: false\n        },\n        {\n            opposite: true,\n            seriesName: 'Turbidity',\n            title: { text: 'TDS (ppm) / Turbidity (NTU)', style: { color: '#FFEB3B' } },\n            labels: {\n                formatter: function(val) { return val.toFixed(0); },\n                style: { colors: '#FFFFFF' }\n            }\n        }\n    ],\n    tooltip: {\n        x: { format: 'dd/MM/yyyy HH:mm' },\n        shared: true\n    },\n    legend: {\n        position: 'bottom',\n        labels: { colors: '#FFFFFF' }\n    }\n};"
    },
    "sources": [
      {
        "$timespan": {
          "magnitude": "day",
          "mode": "configurable",
          "period": "latest",
          "value": 1
        },
        "bucket": {
          "backend": "mongodb",
          "id": "water_quality_bucket",
          "mapping": "ph",
          "tags": {
            "device": [],
            "group": []
          },
          "user": "myusername"
        },
        "color": "#00E676",
        "name": "pH",
        "source": "bucket",
        "timespan": {
          "magnitude": "hour",
          "mode": "relative",
          "period": "latest",
          "value": 24
        }
      },
      {
        "$timespan": {
          "magnitude": "day",
          "mode": "configurable",
          "period": "latest",
          "value": 1
        },
        "bucket": {
          "backend": "mongodb",
          "id": "water_quality_bucket",
          "mapping": "tds",
          "tags": {
            "device": [],
            "group": []
          },
          "user": "myusername"
        },
        "color": "#00BCD4",
        "name": "TDS",
        "source": "bucket",
        "timespan": {
          "magnitude": "hour",
          "mode": "relative",
          "period": "latest",
          "value": 24
        }
      },
      {
        "$timespan": {
          "magnitude": "day",
          "mode": "configurable",
          "period": "latest",
          "value": 1
        },
        "bucket": {
          "backend": "mongodb",
          "id": "water_quality_bucket",
          "mapping": "turbidity",
          "tags": {
            "device": [],
            "group": []
          },
          "user": "myusername"
        },
        "color": "#FFEB3B",
        "name": "Turbidity",
        "source": "bucket",
        "timespan": {
          "magnitude": "hour",
          "mode": "relative",
          "period": "latest",
          "value": 24
        }
      }
    ],
    "type": "apex_charts"
  }
}
